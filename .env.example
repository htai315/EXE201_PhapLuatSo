# ============================================
# EXE201 PhapLuatSo - Environment Configuration
# ============================================
# Copy this file to .env and fill in your values
# NEVER commit .env file to git!

# ============================================
# DATABASE CONFIGURATION
# ============================================
DB_NAME=exe201_phapluatso_v2
DB_USERNAME=postgres
DB_PASSWORD=your_secure_database_password_here

# ============================================
# JWT CONFIGURATION
# ============================================
# Generate with: openssl rand -base64 64
JWT_SECRET=your_very_long_random_secret_at_least_64_characters_for_jwt_signing

# ============================================
# GOOGLE OAUTH2 CONFIGURATION
# ============================================
# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret

# ============================================
# FRONTEND URLs
# ============================================
# Your production domain (no trailing slash)
FRONTEND_BASE_URL=https://legaltech.ai.vn
FRONTEND_REDIRECT_URL=https://legaltech.ai.vn/html/oauth2-redirect.html
ALLOWED_ORIGINS=https://legaltech.ai.vn

# ============================================
# COOKIE & SECURITY SETTINGS
# ============================================
# Domain for cookies (include leading dot for subdomains)
COOKIE_DOMAIN=.legaltech.ai.vn
# Lax for OAuth flows, Strict for maximum security
COOKIE_SAME_SITE=Lax
# Must be true for HTTPS
COOKIE_SECURE=true
# Allow credentials in CORS
CORS_ALLOW_CREDENTIALS=true
# CSRF protection (usually disabled for SPA + JWT)
CSRF_ENABLED=false

# ============================================
# OPENAI API CONFIGURATION
# ============================================
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your_openai_api_key_here

# ============================================
# PAYOS PAYMENT GATEWAY
# ============================================
# Get from: https://payos.vn merchant dashboard
PAYOS_CLIENT_ID=your_payos_client_id
PAYOS_API_KEY=your_payos_api_key
PAYOS_CHECKSUM_KEY=your_payos_checksum_key
PAYOS_RETURN_URL=https://legaltech.ai.vn/html/payment-result.html
PAYOS_CANCEL_URL=https://legaltech.ai.vn/html/plans.html
# Generate with: openssl rand -hex 32
PAYMENT_STATUS_TOKEN_SECRET=your_random_payment_token_secret

# ============================================
# EMAIL CONFIGURATION (Gmail SMTP)
# ============================================
MAIL_ENABLED=true
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
# Your Gmail address
MAIL_USERNAME=your_email@gmail.com
# App Password (not your Gmail password!)
# Generate at: https://myaccount.google.com/apppasswords
MAIL_PASSWORD=your_gmail_app_password

# ============================================
# SPRING SETTINGS
# ============================================
# Note: No longer need SPRING_PROFILES_ACTIVE - everything is controlled via ENV vars

# ============================================
# LOGGING CONFIGURATION
# ============================================
# Set to WARN/INFO for production, DEBUG for development
LOG_LEVEL_ROOT=WARN
LOG_LEVEL_APP=INFO
LOG_LEVEL_SPRING_WEB=WARN
LOG_LEVEL_HIBERNATE_SQL=WARN
LOG_LEVEL_HIBERNATE_BINDER=WARN
LOG_LEVEL_TRANSACTION=WARN
LOG_LEVEL_VNPAY=INFO
LOG_LEVEL_CREDIT=INFO
LOG_LEVEL_ENVLOADER=INFO
LOG_LEVEL_DOTENV=INFO

# ============================================
# ERROR RESPONSE (Production - hide details)
# ============================================
# Set to 'always' for development, 'never' for production
ERROR_INCLUDE_MESSAGE=never
ERROR_INCLUDE_STACKTRACE=never
ERROR_INCLUDE_EXCEPTION=false

# ============================================
# DATABASE CONNECTION POOL (HikariCP)
# ============================================
# Increase pool size for production traffic
HIKARI_MAX_POOL_SIZE=20
HIKARI_MIN_IDLE=5
HIKARI_CONNECTION_TIMEOUT=30000
HIKARI_IDLE_TIMEOUT=600000
HIKARI_MAX_LIFETIME=1800000
